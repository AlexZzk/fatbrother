<nav-bar title="入驻申请" left-arrow="{{true}}" />

<view class="page-container">
  <view class="form-section">
    <!-- 邀请码 -->
    <view class="form-group">
      <text class="form-label">邀请码</text>
      <view class="form-row">
        <input
          class="form-input form-input--flex"
          placeholder="请输入邀请码（选填）"
          value="{{form.invite_code}}"
          data-field="invite_code"
          bindinput="onInput"
          maxlength="6"
        />
        <button wx:if="{{form.invite_code}}" class="btn-verify" bindtap="onVerifyCode">验证</button>
      </view>
      <text wx:if="{{inviteVerified}}" class="form-hint form-hint--success">推荐商户：{{referrerShopName}}</text>
      <text wx:else class="form-hint">选填，填写后将与推荐商家建立分成关系</text>
    </view>

    <!-- 店铺名称 -->
    <view class="form-group">
      <text class="form-label">店铺名称 <text class="required">*</text></text>
      <input
        class="form-input"
        placeholder="请输入您的店铺名称"
        value="{{form.shop_name}}"
        data-field="shop_name"
        bindinput="onInput"
        maxlength="20"
      />
    </view>

    <!-- 联系人姓名 -->
    <view class="form-group">
      <text class="form-label">联系人姓名 <text class="required">*</text></text>
      <input
        class="form-input"
        placeholder="请输入联系人姓名"
        value="{{form.contact_name}}"
        data-field="contact_name"
        bindinput="onInput"
        maxlength="10"
      />
    </view>

    <!-- 联系电话 -->
    <view class="form-group">
      <text class="form-label">联系电话 <text class="required">*</text></text>
      <input
        class="form-input"
        type="number"
        placeholder="请输入联系电话"
        value="{{form.contact_phone}}"
        data-field="contact_phone"
        bindinput="onInput"
        maxlength="11"
      />
    </view>

    <!-- 微信商户号 -->
    <view class="form-group">
      <text class="form-label">微信商户号</text>
      <input
        class="form-input"
        type="number"
        placeholder="请输入微信商户号ID（选填）"
        value="{{form.mch_id}}"
        data-field="mch_id"
        bindinput="onInput"
      />
      <text class="form-hint">收款用，可后续在店铺设置中填写</text>
    </view>
  </view>

  <view class="form-footer">
    <button class="btn-submit" bindtap="onSubmit" loading="{{submitting}}">提交申请</button>
  </view>
</view>

<toast id="toast" />
